<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.developer.users">

<resultMap type="com.developer.tutor.TutorVO" id="tutorVO">
	<result column="user_id" property="userId" />
</resultMap>

<resultMap type="com.developer.users.UsersVO" id="tutorMap">
	<id property="userId" column="user_id"/>
	<result property="role" column="role"/>
	<result property="pwd" column="pwd"/>
	<result property="nickname" column="nickname"/>
	<result property="name" column="name"/>
	<result property="email" column="email"/>
	<result property="tel" column="tel"/>
	<result property="addr" column="addr"/>
	<collection property="tutorVO" ofType="TutorVO">
		
	</collection>
</resultMap>

<select id="selectTutor" resultMap="tutorMap">
SELECT u.user_id, u.name, u.nickname, u.tel
FROM users u, tutor t
WHERE u.user_id = t.user_id
AND apply_ok = 0;
</select>

<select id="selectAll" resultType="com.developer.users">
SELECT * 
FROM users 
ORDER BY name
</select>


</mapper>